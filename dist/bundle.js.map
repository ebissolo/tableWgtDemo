{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/main.js","webpack:///./src/TableWgt.js","webpack:///./src/TableGeometry.js","webpack:///./src/RowPrototype.js","webpack:///./src/RowPrototypes.js","webpack:///./src/GenericWgt.js","webpack:///./src/JMScrollbar.js","webpack:///./dataSource/data.js"],"names":["window","wgts","pushWidget","wgt","push","getWidgetById","id","i","length","tableWgt","width","height","rowPrototypes","cl","opt","w","h","x","y","bgcolor","rowOccupied","wgt1","wgt2","model","TableWgt","options","console","log","elem","document","getElementById","style","globalStrokeWidth","body","appendChild","m_table","m_rowPrototypes","scrollbarOptions","maxContentHeight","rows","scrollbar","scrollContentWidth","scrollContentHeight","idx","div","createElement","classList","add","top","setAttribute","rowNumber","tableModel","prototypesHeights","clear","type","parseInt","row","renderRowsPrototypes","addScrollbar","proto","protos","free","getWidgetsOfRow","rowWidgets","scrollBy","scrollTo","startIndex","endIndex","j","freeRow","splice","k","iterator","clones","newInstance","rowType","r","clone","childNodes","modelRow","cloneRow","lastRow","pop","left","counter","rowIndex","renderRow","scrollXPos","scrollYPos","scrollPos","viewHeight","startPos","endPos","dummyStartRow","lowerBound","Math","max","checkOutOfViewPrototypes","clonePrototypes","defineGeometryAndScrollbar","initPrototypesAndGeometry","Object","defineProperty","prototype","get","_model","set","currentModel","onModelChange","TableGeometry","RowPrototype","RowPrototypes","GenericWgt","parentWgt","backgroundColor","createTextNode","addWidget","defaultSettings","handlers","xRailHeight","yRailWidth","minScrollbarLength","JMScrollbar","element","container","containerWidth","parseFloat","containerHeight","settings","setOptions","appendRailsAndThumbs","bindEvents","key","bindKeyboardEvent","size","xRail","yRail","xRailThumb","yRailThumb","xRailDim","bottom","yRailDim","right","getThumbSize","railX","el","railY","thumbX","len","thumbY","setStyles","scrollTop","scrollLeft","scrollbarYTop","scrollbarXLeft","addEventListener","e","preventDefault","keyCode","deltaX","deltaY","updateGeometry","_h","_t","_v"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import TableWgt from \"./TableWgt.js\";\nimport GenericWgt from \"./GenericWgt.js\";\nimport { model } from \"../dataSource/data.js\";\n\nwindow.wgts = [];\nwindow.pushWidget = function( wgt ) {\n\twgts.push( wgt );\n}\nwindow.getWidgetById = function( id ) {\n\tfor( let i = 0; i < wgts.length; i++ ) {\n\t\tif ( wgts[i].id = id ) {\n\t\t\treturn wgts[i]\n\t\t}\n\t}\n}\n\nwindow.tableWgt = new TableWgt( \"tableWgt\", { \n\twidth: 500,\n\theight: 300,\n\trowPrototypes: [\n\t\t[ // first row\n\t\t\t{\n\t\t\t\tid: \"wgt1\",\n\t\t\t\tcl: \"GenericWgt\",\n\t\t\t\topt: { w: 500, h: 100, x: 0, y: 0, bgcolor: \"red\", rowOccupied: 0 }\n\t\t\t}\n\t\t],\n\t\t[ // second row\n\t\t\t{ \n\t\t\t\tid: \"wgt2\",\n\t\t\t\tcl: \"GenericWgt\",\n\t\t\t\topt: { w: 500, h: 100, x: 0, y: 0, bgcolor: \"green\", rowOccupied: 1 }\n\t\t\t}\n\t\t]\n\t]\n }); \n\n// Add Generic widgets\nlet wgt1 = new GenericWgt( \"wgt1\", { w: 800, h: 100, x: 0, y: 0, bgcolor: \"red\", rowOccupied: 0 }, tableWgt );\nlet wgt2 = new GenericWgt( \"wgt2\", { w: 800, h: 100, x: 0, y: 0, bgcolor: \"green\", rowOccupied: 1 }, tableWgt );\n\ntableWgt.model = model;\n\n","import TableGeometry from \"./TableGeometry.js\";\nimport RowPrototype from \"./RowPrototype.js\";\nimport RowPrototypes from \"./RowPrototypes.js\";\nimport GenericWgt from \"./GenericWgt.js\";\nimport JMScrollbar from \"./JMScrollbar.js\";\n\n\nexport default class TableWgt {\n\tconstructor( id, options ) {\n\t\tconsole.log( \"--> construct Table widget !\" );\n\n\t\tthis.elem = document.getElementById( \"tableWgt\" );\n\t\tthis.width = options.width;\n\t\tthis.height = options.height;\n\t\tthis.id = this.elem.id = id;\n\n\t\tthis.elem.style.width = this.width + \"px\";\n\t\tthis.elem.style.height = this.height + \"px\";\n\n\t\tthis.rowPrototypes = options.rowPrototypes;\n\t\tthis.globalStrokeWidth = 1;\n\t\t\n\t\tdocument.body.appendChild( this.elem );\n\n\t\t// Ref\n\t\tthis.m_table = new TableGeometry();\n\t\tthis.m_rowPrototypes = [];\n\t\t//this.m_protoClonedWgts = [];\n\n\t\tpushWidget( this );\n\t}\n\n\taddScrollbar( scrollbarOptions ) {\n\t\tlet maxContentHeight = 0;\n\t\tfor( let i = 0; i < this.m_table.rows.length; i++ ) {\n\t\t\tmaxContentHeight += this.m_table.rows[i].height;\n\t\t}\n\t\tthis.scrollbar = new JMScrollbar( this.elem, { scrollContentWidth: this.width * 2, scrollContentHeight: maxContentHeight } );\n\t}\n\n\taddWidget( wgt ) {\n\t\tif( this.wgts == null )\n\t\t\tthis.wgts = [];\n\t\tthis.wgts.push( wgt );\n\t}\n\n\tgetWidgetsOfRow( idx ) {\n\t\tlet wgts = [];\n\n\t\tfor( let i = 0; i < this.wgts.length; i++ ) {\n\t\t\tif( this.wgts[i].rowOccupied == idx ) {\n\t\t\t\twgts.push( this.wgts[i] );\n\t\t\t}\n\t\t}\n\t\treturn wgts;\t\n\t}\n\n\trenderRowsPrototypes() {\n\t\tfor( let i = 0; i < this.m_table.rows.length; i++ ) {\n\t\t\tlet div = document.createElement( \"div\" );\n\t\t\tdiv.classList.add( \"row\" );\n\n\t\t\tdiv.style.top = this.m_table.rows[i].top + \"px\";\n\t\t\tdiv.style.height = this.m_table.rows[i].height + \"px\";\n\t\t\tdiv.style.width = this.width + \"px\";\n\n\t\t\tdiv.setAttribute( \"row-index\", i );\n\n\t\t\tthis.elem.appendChild( div );\n\t\t}\n\t}\n\n\tdefineGeometryAndScrollbar() {\n\t\tlet rowNumber = this.wgts.length; // from table widget\n\t\tlet tableModel = this.model;\n\t\tlet prototypesHeights = [];\n\n\t\t// Init heights\n\t\tfor( let i = 0; i < rowNumber; i++ ) {\n\t\t\tprototypesHeights.push( this.wgts[i].height );\n\t\t}\n\n\t\tthis.m_table.clear();\n\t\t\n\t\tlet top = 0;\n\n\t\t// Init rows geometry\n\t\tfor( let i = 0; i < tableModel.length - 1; i++ ) {\n\t\t\tlet type = parseInt( tableModel[i+1][\"_t\"] );\n\t\t\tlet row = {\t\t\t// cpp: TableGeometry::Row& row\n\t\t\t\ttype: null,\n\t\t\t\ttop: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\n\t\t\trow.top = top;\n\t\t\trow.type = type;\n\t\t\trow.height = prototypesHeights[type];\n\t\t\ttop += row.height;\n\n\t\t\tthis.m_table.rows.push(row);\n\t\t}\n\n\t\tthis.renderRowsPrototypes();\n\t\tif( this.scrollbar == null ) { // add scrollbar\n\t\t\tthis.addScrollbar();\n\t\t}\n\t}\n\n\tinitPrototypesAndGeometry() {\n\t\tlet rowNumber = this.wgts.length; // from table widget\n\t\t//let tableHeight = this.height;\n\n\t\tthis.m_rowPrototypes = []; // eq to clear()\n\n\t\tfor( let i = 0; i < rowNumber; i++ ) {\n\t\t\tlet proto = new RowPrototype();\n\t\t\tlet protos = new RowPrototypes();\n\n\t\t\tthis.m_rowPrototypes[i] = protos;\n\n\t\t\tproto.free = true;\n\t\t\tproto.row = -1;\n\n\t\t\tlet wgts = this.getWidgetsOfRow( i );\n\n\t\t\tproto.rowWidgets = wgts;\n\t\t\tprotos.rows.push( proto ); // in runtime it's used qt \"push_back\"\n\t\t}\n\n\t\tthis.scrollBy( 0 );\n\t\tthis.scrollTo( 0 );\n\t}\n\n\tlowerBound( rows, row ) {\n\t\tfor( let i = 0; i < rows.length; i++ ) {\n\t\t\tif( rows[i].top >= row.top ) {\n\t\t\t\tif ( i == 0 ) {\n\t\t\t\t\treturn i;\n\t\t\t\t} else {\n\t\t\t\t\treturn i-1;\n\t\t\t\t}\n\t\t\t}\n\t\t}  \n\t}\n\n\tcheckOutOfViewPrototypes( startIndex, endIndex ) {\n\t\tfor( let i = 0; i < this.m_rowPrototypes.length; i++ ) { \n\t\t\tlet protos = this.m_rowPrototypes[i];\n\t\t\tfor( let j = 0; j < protos.rows.length; ) {\n\t\t\t\tlet row = protos.rows[j];\n\n\t\t\t\tif ( row.free ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif ( row.row < startIndex ) {\n\t\t\t\t\t/**\n\t\t\t\t\t *  cpp: row.free = true;\n\t\t\t\t\t\tUninstallRuntimeBackground(row.row);\n\t\t\t\t\t\trow.freeRow(viewController);\n\t\t\t\t\t\tviewController->unregisterDelegate(row.row);\n\t\t\t\t\t\trow.row = -1;\n\n\t\t\t\t\t\tprotos.rows.push_back(row);\n\t\t\t\t\t\tr = protos.rows.erase(r);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t */\n\t\t\t\t\trow.free = true;\n\t\t\t\t\trow.freeRow();\n\t\t\t\t\t//row.unregisterDelegate();\n\t\t\t\t\trow.row = -1;\n\t\t\t\t\tprotos.rows.splice( j, 1, row ); // cpp: protos.rows.push_back(row); ??\n\t\t\t\t\t\t\t\t\t\t\t\t\t //      r = protos.rows.erase(r);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif ( row.row >= endIndex ) {\n\t\t\t\t\tfor( let k = j; k < protos.rows.length; k++ ) {\n\t\t\t\t\t\tlet row = protos.rows[k];\n\n\t\t\t\t\t\trow.free = true;\n\t\t\t\t\t\trow.freeRow();\n\t\t\t\t\t\t//row.unregisterDelegate(); //?\n\t\t\t\t\t\trow.row = -1;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tj++;\n\t\t\t}\n\t\t\tprotos.iterator = 0;\n\t\t}\n\t}\n\n\tclone( wgts, idx ) {\n\t\tlet clones = [];\n\n\t\tconsole.log( \"--> cloning widget !\" );\n\n\t\tfor( let i = 0; i < wgts.length; i++ ) {\n\t\t\tlet id = wgts[i].id + idx;\n\t\t\tlet cl = wgts[i].cl;\n\t\t\tlet opt = wgts[i].opt;\n\n\t\t\tif ( cl == \"GenericWgt\" ) {\n\t\t\t\tcl = GenericWgt;\n\t\t\t}\n\n\t\t\tlet newInstance = new cl( id, opt, this );\n\t\t\tclones.push( newInstance );\n\t\t}\n\t\treturn clones;\n\t}\n\n\tcloneRow( rowType, idx ) {\n\t\tlet r = new RowPrototype();\n\t\tr.rowWidgets = this.clone( this.rowPrototypes[rowType], idx );\n\t\treturn r;\n\t}\n\n\trenderRow( row ) {\n\t\tconsole.log( \"--> row index: \" + row.row );\n\n\t\tfor( let i = 0; i < row.rowWidgets.length; i++ ) {\n\t\t\tthis.elem.childNodes[row.row].appendChild( row.rowWidgets[i].elem );\n\t\t}\n\t}\n\n\tclonePrototypes( startIndex, endIndex ) {\n\t\tlet protos;\n\t\tfor ( let i = startIndex; i < endIndex; i++ ) {\n\n\t\t\tlet modelRow = this.model[i+1];\n\t\t\tlet rowType = parseInt( modelRow[\"_t\"] );\n\t\t\tprotos = this.m_rowPrototypes[rowType];\n\n\t\t\tif ( protos.iterator == protos.rows.length )  { // scanIterator\n\t\t\t\tlet r = this.cloneRow( rowType, i );\n\n\t\t\t\tprotos.rows.push( r );\n\t\t\t\tprotos.iterator = protos.rows.length - 1;\n\n\t\t\t} else {\n\t\t\t\tlet row = protos.rows[protos.iterator];\n\n\t\t\t\tif ( !row.free && row.row != i ) {\n\t\t\t\t\tlet lastRow = protos.rows[protos.rows.length - 1];\n\n\t\t\t\t\tif ( lastRow.free ) {\n\t\t\t\t\t\tprotos.rows.splice( i, 0, lastRow );\n\t\t\t\t\t\tprotos.rows.pop(); // cpp: protos.rows.removeLast();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet r = this.cloneRow( rowType, i );\n\n\t\t\t\t\t\tprotos.rows.splice( i, 0, r );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet row = protos.rows[protos.iterator];\n\n\t\t\tlet left = 0; // temp\n\t\t\tlet top = this.m_table.rows[i].top;\n\t\t\tlet height = this.m_table.rows[i].height;\n\t\t\tlet width = this.width;\n\n\t\t\tlet wgts = row.rowWidgets;\n\n\t\t\tlet counter = 0;\n\t\t\tif ( row.free ) {\n\t\t\t\trow.free = false;\n\t\t\t\trow.row = i;\n\t\t\t\t\n\t\t\t\tlet rowIndex = i;\n\n\t\t\t\tthis.renderRow( row );\n\n\t\t\t\t// Activation datalinks, multilanguage etc.\n\t\t\t\t// ...\n\t\t\t}\n\n\t\t\tprotos.iterator++;\n\t\t}\n\t}\n\n\tscrollBy( scrollXPos, scrollYPos ) {\n\t\tconsole.log( \"--> scrollBy() call !!\" );\n\t}\n\n\tscrollTo( scrollPos ) {\n\t\tconsole.log( \"--> scrollTo() call !!\" );\n\n\t\tlet viewHeight = this.height;\n\t\tlet tableModel = this.model;\n\t\tlet lastRow = this.m_table.rows[this.m_table.rows.length-1];\n\n\t\tlet startPos = scrollPos - this.globalStrokeWidth; // cpp: qreal startPos = _scrollPos - mo.GetGlobalStrokeWidth() - pagePrecachedSize;\n\t\tlet endPos = scrollPos + viewHeight;\n\n\t\tlet dummyStartRow = { \t  // cpp: TableGeometry::Row& row\n\t\t\ttype: null,\n\t\t\ttop: 0,\n\t\t\theight: 0\n\t\t};\n\t\tdummyStartRow.top = startPos;\n\n\t\tlet startIndex = this.lowerBound( this.m_table.rows, dummyStartRow ) - 0; // cpp: qLowerBound(m_table.rows, dummyStartRow) - m_table.rows.begin();\n\t\tlet endIndex = startIndex;\n\n\t\tfor(;endIndex < this.m_table.rows.length && this.m_table.rows[endIndex].top < endPos; endIndex++) {} // Computes endIndex\n\n\t\tconsole.log( \"--> startIndex: \" + startIndex + \" endIndex: \" + endIndex );\n\n\t\tstartIndex = Math.max( startIndex-1, 0 );\n\n\t\tthis.checkOutOfViewPrototypes( startIndex, endIndex );\n\t\tthis.clonePrototypes( startIndex, endIndex );\n\t}\n\n\tonModelChange() {\n\t\tconsole.log( \"--> onModelChange() call !!\" );\n\n\t\tthis.defineGeometryAndScrollbar();\n\t\tthis.initPrototypesAndGeometry();\n\t}\n}\n\n// Setter/Getter\nObject.defineProperty( TableWgt.prototype, \"model\",\n\t{\n\t\tget: function() {\n\t\t\tconsole.log( \"--> property get !\" ); \n\t\t\treturn this._model;\n\t\t},\n\t\tset: function( currentModel ) {\n\t\t\tthis._model = currentModel;\n\t\t\tconsole.log( \"--> property set ! call onModelChange() method !\" );\n\n\t\t\tthis.onModelChange();\n\t\t}\n\t}\n);","export default class TableGeometry {\n\tconstructor() {\n\t\tthis.rows = [];\n\t}\n\tclear() {\n\t\tconsole.log( \"--> clear rows !\" );\n\t\tthis.rows = [];\n\t}\n}","export default class RowPrototype {\n\tconstructor() {\n\t\tthis.free = true;\n\t\tthis.row = 0;\n\t\tthis.rowWidgets = [];\n\t}\n\tfreeRow() {\n\t\tconsole.log( \"--> freeRow !\" );\n \t}\n}","export default class RowPrototypes {\n\tconstructor() {\n\t\tthis.rows = [];\n\t\tthis.iterator = -1;\n\t}\n}","export default class GenericWgt {\n\tconstructor( id, options, parentWgt ) {\n\t\tthis.bgcolor = options.bgcolor;\n\t\tthis.rowOccupied = options.rowOccupied;\n\t\tthis.parentWgt = parentWgt;\n\n\t\tthis.elem = document.createElement( \"div\" );\n\n\t\tthis.width = options.w;\n\t\tthis.height = options.h;\n\t\tthis.x = options.x;\n\t\tthis.y = options.y;\n\n\t\tthis.elem.id = this.id = id;\n\t\tthis.elem.style.width = options.w + \"px\";\n\t\tthis.elem.style.height = options.h + \"px\";\n\t\tthis.elem.style.left = options.x + \"px\";\n\t\tthis.elem.style.top = options.y + \"px\";\n\t\tthis.elem.style.backgroundColor = this.bgcolor;\n\t\tthis.elem.classList.add( \"wgt\" );\n\t\tthis.elem.appendChild( document.createTextNode( \"\" + this.id ) );\n\n\t\tthis.parentWgt.addWidget( this );\n\t}\n}","let defaultSettings = () => ({\n\thandlers: [\"keyboard\"],\n\txRailHeight: 15,\n\tyRailWidth: 15,\n\tscrollXPos: 0,\n\tscrollYPos: 0,\n\tminScrollbarLength: 30\n});\n\nexport default class JMScrollbar {\n\n\tconstructor( element, options ) {\n\t\tconsole.log( \"--> scrollbar constructor !\" );\n\n\t\tthis.container = element;\n\t\tthis.containerWidth = parseFloat( element.style.width );\n\t\tthis.containerHeight = parseFloat( element.style.height );\n\n\t\t// Default settings\n\t\tthis.settings = defaultSettings();\n\n\t\tthis.setOptions( options );\n\t\tthis.appendRailsAndThumbs();\n\t\tthis.bindEvents();\n\t}\n\n\tbindEvents() {\n\t\tfor( var key in this.settings.handlers ) {\n\t\t\tswitch( this.settings.handlers[key] ) {\n\t\t\t\tcase \"keyboard\":\n\t\t\t\t\tthis.bindKeyboardEvent( this );\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tsetOptions( options ) {\n\t\tfor( var opt in options ) {\n\t\t\tthis[opt] = options[opt];\n\t\t}\n\t}\n\n\tgetThumbSize( size ) {\n\t\treturn parseInt( Math.max( this.settings.minScrollbarLength, size ) );\n\t}\n\n\tsetStyles( xRail, yRail, xRailThumb, yRailThumb ) {\n\t\tlet xRailDim = {\n\t\t\tw: this.containerWidth,\n\t\t\th: this.settings.xRailHeight,\n\t\t\tleft: 0,\n\t\t\tbottom: 0\n\t\t};\n\t\tlet yRailDim = {\n\t\t\tw: this.settings.yRailWidth,\n\t\t\th: this.containerHeight,\n\t\t\ttop: 0,\n\t\t\tright: 0\n\t\t};\n\n\t\t// Rails\n\t\txRail.style.width = xRailDim.w + \"px\";\n\t\txRail.style.height = xRailDim.h + \"px\";\n\t\txRail.style.left = xRailDim.left + \"px\"\n\t\txRail.style.bottom = xRailDim.bottom + \"px\";\n\t\tyRail.style.width = yRailDim.w + \"px\";\n\t\tyRail.style.height = yRailDim.h + \"px\";\n\t\tyRail.style.top = yRailDim.top + \"px\";\n\t\tyRail.style.right = yRailDim.right + \"px\";\n\n\t\t// Thumbs\n\t\txRailThumb.style.width = this.getThumbSize( this.containerWidth * this.containerWidth / this.scrollContentWidth ) + \"px\";\n\t\txRailThumb.style.height = xRailDim.h + \"px\";\n\t\tyRailThumb.style.width = yRailDim.w + \"px\";\n\t\tyRailThumb.style.height = this.getThumbSize( this.containerHeight * this.containerHeight / this.scrollContentHeight ) + \"px\";\n\n\t\tthis.railX = {\n\t\t\tel: xRail,\n\t\t\th: xRailDim.h,\n\t\t\tleft: xRailDim.left,\n\t\t\tbottom: xRailDim.bottom\n\t\t};\n\t\tthis.railY = {\n\t\t\tel: yRail,\n\t\t\tw: yRailDim.w,\n\t\t\ttop: yRailDim.top,\n\t\t\tright: yRailDim.right\n\t\t};\n\t\tthis.thumbX = {\n\t\t\tel: xRailThumb,\n\t\t\tlen: parseFloat( xRailThumb.style.width )\n\t\t};\n\t\tthis.thumbY = {\n\t\t\tel: yRailThumb,\n\t\t\tlen: parseFloat( yRailThumb.style.height )\n\t\t};\n\t}\n\n\tappendRailsAndThumbs() {\n\t\tlet xRail = document.createElement( \"div\" );\n\t\tlet yRail = document.createElement( \"div\" );\n\t\tlet xRailThumb = document.createElement( \"div\" );\n\t\tlet yRailThumb = document.createElement( \"div\" );\n\n\t\txRail.classList.add( \"x-rail\" );\n\t\tyRail.classList.add( \"y-rail\" );\n\t\txRailThumb.classList.add( \"x-rail-thumb\" );\n\t\tyRailThumb.classList.add( \"y-rail-thumb\" );\n\n\t\tthis.setStyles( xRail, yRail, xRailThumb, yRailThumb );\n\n\t\txRail.appendChild( xRailThumb );\n\t\tyRail.appendChild( yRailThumb );\n\t\tthis.container.appendChild( xRail );\n\t\tthis.container.appendChild( yRail );\n\t}\n\n\tupdateGeometry( i ) {\n\t\tconsole.log( \"--> update geometry\" );\n\n\t\ti.railX.el.style.bottom = ( i.railX.bottom - i.container.scrollTop ) + \"px\";\n\t\ti.railX.el.style.left = ( i.railX.left + i.container.scrollLeft ) + \"px\";\n\t\ti.railY.el.style.right = ( i.railY.right - i.container.scrollLeft ) + \"px\";\n\t\ti.railY.el.style.top = ( i.railY.top + i.container.scrollTop ) + \"px\";\n\n\t\tlet scrollbarYTop = i.container.scrollTop * ( i.thumbY.len - this.containerHeight ) / ( i.scrollContentHeight - this.containerHeight );\n\t\tlet scrollbarXLeft = i.container.scrollLeft * ( i.thumbY.len - this.containerWidth ) / ( i.scrollContentWidth - this.containerWidth );\n\n\t\ti.thumbY.el.style.top = -scrollbarYTop + \"px\";\n\t\ti.thumbX.el.style.left = -scrollbarXLeft + \"px\";\n\t}\n\n\tbindKeyboardEvent( i ) {\n\t\tdocument.addEventListener( \"keydown\", ( e ) => {\n\t\t\te.preventDefault();\n\n\t\t\tconsole.log( \"--> keycode: \" + e.keyCode );\n\n\t\t\tlet deltaX = 0;\n\t\t\tlet deltaY = 0;\n\n\t\t\tswitch( e.keyCode ) {\n\t\t\t\tcase 37: // left\n\t\t\t\t\tdeltaX = -30;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 38: // up\n\t\t\t\t\tdeltaY = 30;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 39: // right\n\t\t\t\t\tdeltaX = 30;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 40: // down\n\t\t\t\t\tdeltaY = -30;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tthis.container.scrollTop -= deltaY;\n\t\t\tthis.container.scrollLeft += deltaX;\n\t\t\tthis.updateGeometry( i );\n\t\t});\n\t}\n}","let model = [];\n\nmodel[0] = {\n    _h: [\n        [ [\"value\"], [\"text\"] ],           // Row type 0\n        [ [\"text\"], [\"value\"] ],           // Row type 1\n        [ [\"fill\"], [\"fill\"] ],            // Row type 2\n        [ [\"btn.fill\"], [\"btn.fill\"] ],     // Row type 3\n        [ [\"stroke-width\"], [\"fill\"] ]\t\t// Row type 4\n     ]\n};\nmodel[1] = {\n   _t: 0,\n   _v: [ \"10\", \"This is a Label widget\" ]\n};\nmodel[2] = {\n   _t: 1,\n   _v: [ \"This is an other Label widget\", \"55\" ]\n};\nmodel[3] = {\n   _t: 0,\n   _v: [ \"rgb(255,0,0)\", \"rgb(0,255,0)\" ]\n};\nmodel[4] = {\n   _t: 0,\n   _v: [ \"#ff0000\", \"#00ff00\" ]\n};\nmodel[5] = {\n   _t: 1,\n   _v: [ \"#00ff00\", \"#ffff00\" ]\n};\n\nexport { model };"],"sourceRoot":""}